"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[57814],{89545:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>c,toc:()=>p});var a=n(74848),i=n(28453);const s='<nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="/docs/api/namespaces/#95420D3AD49404C0"><span>namespace celerity</span></a></li><li><a href="/docs/api/namespaces/#36211E2D24C9AB8E"><span>namespace experimental</span></a></li><li class="is-active"><a aria-current="pageF4DAC02A6D4C0CB4"><span>function constrain_split</span></a></li></ul></nav>\n<main><section><h3 id="F4DAC02A6D4C0CB4" data-function-name="constrain_split"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#F4DAC02A6D4C0CB4">\xb6</a><code class="hdoc-function-code language-cpp">template &lt;int Dims&gt;\nvoid constrain_split(\n    <a href="/docs/api/records/73E846FEAC018FF5/">handler</a>&amp; cgh,\n    const range&lt;Dims&gt;&amp; constraint)</code></pre></h3><section><h4>Description</h4><p><p>Constrains the granularity at which a task\'s global range can be split into chunks. In some situations an output buffer access is only guaranteed to write to non-overlapping subranges if the task is split in a certain way. For example when computing the row-wise sum of a 2D matrix into a 1D vector, a split constraint is required to ensure that each element of the vector is written by exactly one chunk. Another use case is for performance optimization, for example when the creation of lots of small chunks would result in hardware under-utilization and excessive data transfers. Since ND-range parallel_for kernels are already constrained to be split with group size granularity, adding an additional constraint on top results in an effective constraint of LCM(group size, constraint). The constraint (or effective constraint) must evenly divide the global range. This function has no effect when called for a task without a user-provided global range.</p>\n</p></section><aside><p>Declared at: <a class="is-family-code" href="https://github.com/celerity/celerity-runtime/blob/master/include/handler.h#L46">include/handler.h:46</a></p></aside><section><h4>Template Parameters</h4><dl><dt class="is-family-code">int<b> Dims</b></dt></dl></section><section><h4>Parameters</h4><dl><dt class="is-family-code"><a href="/docs/api/records/73E846FEAC018FF5/">handler</a>&amp;<b> cgh</b></dt><dt class="is-family-code">const range&lt;Dims&gt;&amp;<b> constraint</b></dt></dl></section></section><hr class="member-fun-separator"></hr></main>',r={hide_title:!0,pagination_next:null,pagination_prev:null,custom_edit_url:null,sidebar_class_name:"sidebar-hidden",title:"function constrain_split"},o=void 0,c={id:"api/functions/celerity_experimental-constrain_split",title:"function constrain_split",description:"",source:"@site/celerity-runtime/docs/api/functions/celerity_experimental-constrain_split.mdx",sourceDirName:"api/functions",slug:"/api/functions/celerity_experimental-constrain_split",permalink:"/docs/api/functions/celerity_experimental-constrain_split",draft:!1,unlisted:!1,editUrl:null,tags:[],version:"current",frontMatter:{hide_title:!0,pagination_next:null,pagination_prev:null,custom_edit_url:null,sidebar_class_name:"sidebar-hidden",title:"function constrain_split"},sidebar:"api"},l={},p=[];function d(e){const{Head:t}={...(0,i.R)(),...e.components};return t||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Head",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(t,{children:[(0,a.jsx)("script",{src:"/js/highlight.min.js"}),(0,a.jsx)("script",{src:"/js/api_docs.js",defer:!0})]}),"\n",(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:s}})]})}function u(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>o});var a=n(96540);const i={},s=a.createContext(i);function r(e){const t=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),a.createElement(s.Provider,{value:t},e.children)}}}]);