"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[87084],{20648:(e,a,c)=>{c.r(a),c.d(a,{assets:()=>n,contentTitle:()=>d,default:()=>p,frontMatter:()=>i,metadata:()=>o,toc:()=>l});var s=c(74848),r=c(28453);const t='<nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="/docs/api/namespaces/#95420D3AD49404C0"><span>namespace celerity</span></a></li><li><a href="/docs/api/namespaces/#06885D8AE2CD6C63"><span>namespace detail</span></a></li><li class="is-active"><a aria-current="pageF1926AFC283BE8C6"><span>class abstract_scheduler</span></a></li></ul></nav>\n<main><h1>class abstract_scheduler</h1><h2>Declaration</h2><pre class="p-0"><code class="hdoc-record-code language-cpp">class abstract_scheduler { /* full declaration omitted */ };</code></pre><aside><p>Declared at: <a class="is-family-code" href="https://github.com/celerity/celerity-runtime/blob/master/include/scheduler.h#L25">include/scheduler.h:25</a></p></aside><section><h2>Member Variables</h2><dl><dt class="is-family-code hdoc-private" id="var_m_cdag" data-member-name="m_cdag">  <a href="https://en.cppreference.com/w/cpp/memory/unique_ptr">std::unique_ptr</a>&lt;command_graph&gt; <b>m_cdag</b></dt><dt class="is-family-code hdoc-private" id="var_m_crec" data-member-name="m_crec">  <a href="/docs/api/records/3B0C261F008C7843/">command_recorder</a>* <b>m_crec</b></dt><dt class="is-family-code hdoc-private" id="var_m_cggen" data-member-name="m_cggen">  <a href="https://en.cppreference.com/w/cpp/memory/unique_ptr">std::unique_ptr</a>&lt;command_graph_generator&gt; <b>m_cggen</b></dt><dt class="is-family-code hdoc-private" id="var_m_idag" data-member-name="m_idag">  <a href="https://en.cppreference.com/w/cpp/memory/unique_ptr">std::unique_ptr</a>&lt;instruction_graph&gt; <b>m_idag</b></dt><dt class="is-family-code hdoc-private" id="var_m_irec" data-member-name="m_irec">  <a href="/docs/api/records/E8FA12264299E0BA/">instruction_recorder</a>* <b>m_irec</b></dt><dt class="is-family-code hdoc-private" id="var_m_iggen" data-member-name="m_iggen">  <a href="https://en.cppreference.com/w/cpp/memory/unique_ptr">std::unique_ptr</a>&lt;instruction_graph_generator&gt; <b>m_iggen</b></dt><dt class="is-family-code hdoc-private" id="var_m_event_queue" data-member-name="m_event_queue">  <a href="/docs/api/records/0DE118E8B7E22055/">double_buffered_queue</a>&lt;event&gt; <b>m_event_queue</b></dt></dl></section><section><h2>Member Aliases</h2><ul><li class="is-family-code">using delegate =\n    instruction_graph_generator::delegate;</li><li class="is-family-code hdoc-private">using event =\n    std::variant&lt;event_task_available,\n                 event_buffer_created,\n                 event_buffer_debug_name_changed,\n                 event_buffer_destroyed,\n                 event_host_object_created,\n                 event_host_object_destroyed,\n                 event_epoch_reached,\n                 event_test_inspect&gt;;</li></ul></section><section><h2>Member Function Overview</h2><ul><li class="is-family-code"><a href="#2945DC7E80E07757"><b>abstract_scheduler</b></a>(size_t num_nodes, node_id local_node_id, const system_info &amp; system_info, const task_manager &amp; tm, delegate * delegate, command_recorder * crec, instruction_recorder * irec, const policy_set &amp; policy = {})</li><li class="is-family-code"><a href="#C67F7E24DA3183CC"><b>abstract_scheduler</b></a>(const abstract_scheduler &amp;)</li><li class="is-family-code"><a href="#2D180AA002890EA7"><b>abstract_scheduler</b></a>(abstract_scheduler &amp;&amp;)</li><li class="is-family-code"><a href="#688E7EBC9D77C9C6"><b>notify_buffer_created</b></a>(buffer_id bid, const range&lt;3&gt; &amp; range, size_t elem_size, size_t elem_align, allocation_id user_allocation_id) &rarr; void</li><li class="is-family-code"><a href="#5DF6AFE809E3801B"><b>notify_buffer_debug_name_changed</b></a>(buffer_id bid, const std::string &amp; name) &rarr; void</li><li class="is-family-code"><a href="#DE6D9E96EDDD58EB"><b>notify_buffer_destroyed</b></a>(buffer_id bid) &rarr; void</li><li class="is-family-code"><a href="#124E10FEEDF9826C"><b>notify_epoch_reached</b></a>(task_id tid) &rarr; void</li><li class="is-family-code"><a href="#A4C0F641A0090A25"><b>notify_host_object_created</b></a>(host_object_id hoid, bool owns_instance) &rarr; void</li><li class="is-family-code"><a href="#714DCCB037A18D94"><b>notify_host_object_destroyed</b></a>(host_object_id hoid) &rarr; void</li><li class="is-family-code"><a href="#820640E182D285DE"><b>notify_task_created</b></a>(const task * tsk) &rarr; void</li><li class="is-family-code"><a href="#4478501E819B94AB"><b>operator=</b></a>(const abstract_scheduler &amp;) &rarr; abstract_scheduler &amp;</li><li class="is-family-code"><a href="#C1F71755ACBF6130"><b>operator=</b></a>(abstract_scheduler &amp;&amp;) &rarr; abstract_scheduler &amp;</li><li class="is-family-code"><a href="#0D9991F4A279021E"><b>~abstract_scheduler</b></a>() &rarr; virtual</li><li class="is-family-code hdoc-protected"><a href="#7A24E132D1295DB7"><b>schedule</b></a>() &rarr; void</li><li class="is-family-code hdoc-private"><a href="#4D4CFCD39AC2323A"><b>notify</b></a>(event &amp;&amp; evt) &rarr; void</li></ul></section><section><h2>Member Functions</h2><section><h3 id="2945DC7E80E07757" data-function-name="abstract_scheduler"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#2945DC7E80E07757">\xb6</a><code class="hdoc-function-code language-cpp">abstract_scheduler(size_t num_nodes,\n                   <a href="/docs/api/records/DBE63D9D086598BC/">node_id</a> local_node_id,\n                   const <a href="/docs/api/records/8B87A955194B6925/">system_info</a>&amp; system_info,\n                   const <a href="/docs/api/records/AF217E212CB99D08/">task_manager</a>&amp; tm,\n                   <a href="/docs/api/records/E0703723ACB4E8C8/">delegate</a>* delegate,\n                   <a href="/docs/api/records/3B0C261F008C7843/">command_recorder</a>* crec,\n                   <a href="/docs/api/records/E8FA12264299E0BA/">instruction_recorder</a>* irec,\n                   const <a href="/docs/api/records/573763B0569601EF/">policy_set</a>&amp; policy = {})</code></pre></h3><aside><p>Declared at: <a class="is-family-code" href="https://github.com/celerity/celerity-runtime/blob/master/include/scheduler.h#L37">include/scheduler.h:37</a></p></aside><section><h4>Parameters</h4><dl><dt class="is-family-code">size_t<b> num_nodes</b></dt><dt class="is-family-code"><a href="/docs/api/records/DBE63D9D086598BC/">node_id</a><b> local_node_id</b></dt><dt class="is-family-code">const <a href="/docs/api/records/8B87A955194B6925/">system_info</a>&amp;<b> system_info</b></dt><dt class="is-family-code">const <a href="/docs/api/records/AF217E212CB99D08/">task_manager</a>&amp;<b> tm</b></dt><dt class="is-family-code"><a href="/docs/api/records/E0703723ACB4E8C8/">delegate</a>*<b> delegate</b></dt><dt class="is-family-code"><a href="/docs/api/records/3B0C261F008C7843/">command_recorder</a>*<b> crec</b></dt><dt class="is-family-code"><a href="/docs/api/records/E8FA12264299E0BA/">instruction_recorder</a>*<b> irec</b></dt><dt class="is-family-code">const <a href="/docs/api/records/573763B0569601EF/">policy_set</a>&amp;<b> policy</b> = {}</dt></dl></section></section><hr class="member-fun-separator"></hr><section><h3 id="C67F7E24DA3183CC" data-function-name="abstract_scheduler"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#C67F7E24DA3183CC">\xb6</a><code class="hdoc-function-code language-cpp"><a href="/docs/api/records/F1926AFC283BE8C6/">abstract_scheduler</a>(const abstract_scheduler&amp;)</code></pre></h3><aside><p>Declared at: <a class="is-family-code" href="https://github.com/celerity/celerity-runtime/blob/master/include/scheduler.h#L40">include/scheduler.h:40</a></p></aside><section><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="/docs/api/records/F1926AFC283BE8C6/">abstract_scheduler</a>&amp;<b> </b></dt></dl></section></section><hr class="member-fun-separator"></hr><section><h3 id="2D180AA002890EA7" data-function-name="abstract_scheduler"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#2D180AA002890EA7">\xb6</a><code class="hdoc-function-code language-cpp"><a href="/docs/api/records/F1926AFC283BE8C6/">abstract_scheduler</a>(abstract_scheduler&amp;&amp;)</code></pre></h3><aside><p>Declared at: <a class="is-family-code" href="https://github.com/celerity/celerity-runtime/blob/master/include/scheduler.h#L41">include/scheduler.h:41</a></p></aside><section><h4>Parameters</h4><dl><dt class="is-family-code"><a href="/docs/api/records/F1926AFC283BE8C6/">abstract_scheduler</a>&amp;&amp;<b> </b></dt></dl></section></section><hr class="member-fun-separator"></hr><section><h3 id="688E7EBC9D77C9C6" data-function-name="notify_buffer_created"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#688E7EBC9D77C9C6">\xb6</a><code class="hdoc-function-code language-cpp">void notify_buffer_created(\n    <a href="/docs/api/records/72F1B234CCBF2E73/">buffer_id</a> bid,\n    const <a href="/docs/api/records/B13622E7024342AF/">range</a>&lt;3&gt;&amp; range,\n    size_t elem_size,\n    size_t elem_align,\n    <a href="/docs/api/records/1824FC8BEBAA39C7/">allocation_id</a> user_allocation_id)</code></pre></h3><aside><p>Declared at: <a class="is-family-code" href="https://github.com/celerity/celerity-runtime/blob/master/include/scheduler.h#L52">include/scheduler.h:52</a></p></aside><section><h4>Parameters</h4><dl><dt class="is-family-code"><a href="/docs/api/records/72F1B234CCBF2E73/">buffer_id</a><b> bid</b></dt><dt class="is-family-code">const <a href="/docs/api/records/B13622E7024342AF/">range</a>&lt;3&gt;&amp;<b> range</b></dt><dt class="is-family-code">size_t<b> elem_size</b></dt><dt class="is-family-code">size_t<b> elem_align</b></dt><dt class="is-family-code"><a href="/docs/api/records/1824FC8BEBAA39C7/">allocation_id</a><b> user_allocation_id</b></dt></dl></section></section><hr class="member-fun-separator"></hr><section><h3 id="5DF6AFE809E3801B" data-function-name="notify_buffer_debug_name_changed"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#5DF6AFE809E3801B">\xb6</a><code class="hdoc-function-code language-cpp">void notify_buffer_debug_name_changed(\n    <a href="/docs/api/records/72F1B234CCBF2E73/">buffer_id</a> bid,\n    const <a href="https://en.cppreference.com/w/cpp/string/basic_string">std::string</a>&amp; name)</code></pre></h3><aside><p>Declared at: <a class="is-family-code" href="https://github.com/celerity/celerity-runtime/blob/master/include/scheduler.h#L57">include/scheduler.h:57</a></p></aside><section><h4>Parameters</h4><dl><dt class="is-family-code"><a href="/docs/api/records/72F1B234CCBF2E73/">buffer_id</a><b> bid</b></dt><dt class="is-family-code">const <a href="https://en.cppreference.com/w/cpp/string/basic_string">std::string</a>&amp;<b> name</b></dt></dl></section></section><hr class="member-fun-separator"></hr><section><h3 id="DE6D9E96EDDD58EB" data-function-name="notify_buffer_destroyed"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#DE6D9E96EDDD58EB">\xb6</a><code class="hdoc-function-code language-cpp">void notify_buffer_destroyed(<a href="/docs/api/records/72F1B234CCBF2E73/">buffer_id</a> bid)</code></pre></h3><aside><p>Declared at: <a class="is-family-code" href="https://github.com/celerity/celerity-runtime/blob/master/include/scheduler.h#L59">include/scheduler.h:59</a></p></aside><section><h4>Parameters</h4><dl><dt class="is-family-code"><a href="/docs/api/records/72F1B234CCBF2E73/">buffer_id</a><b> bid</b></dt></dl></section></section><hr class="member-fun-separator"></hr><section><h3 id="124E10FEEDF9826C" data-function-name="notify_epoch_reached"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#124E10FEEDF9826C">\xb6</a><code class="hdoc-function-code language-cpp">void notify_epoch_reached(<a href="/docs/api/records/322167BB21F2212B/">task_id</a> tid)</code></pre></h3><aside><p>Declared at: <a class="is-family-code" href="https://github.com/celerity/celerity-runtime/blob/master/include/scheduler.h#L65">include/scheduler.h:65</a></p></aside><section><h4>Parameters</h4><dl><dt class="is-family-code"><a href="/docs/api/records/322167BB21F2212B/">task_id</a><b> tid</b></dt></dl></section></section><hr class="member-fun-separator"></hr><section><h3 id="A4C0F641A0090A25" data-function-name="notify_host_object_created"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#A4C0F641A0090A25">\xb6</a><code class="hdoc-function-code language-cpp">void notify_host_object_created(\n    <a href="/docs/api/records/A0E5B68259E332A7/">host_object_id</a> hoid,\n    bool owns_instance)</code></pre></h3><aside><p>Declared at: <a class="is-family-code" href="https://github.com/celerity/celerity-runtime/blob/master/include/scheduler.h#L61">include/scheduler.h:61</a></p></aside><section><h4>Parameters</h4><dl><dt class="is-family-code"><a href="/docs/api/records/A0E5B68259E332A7/">host_object_id</a><b> hoid</b></dt><dt class="is-family-code">bool<b> owns_instance</b></dt></dl></section></section><hr class="member-fun-separator"></hr><section><h3 id="714DCCB037A18D94" data-function-name="notify_host_object_destroyed"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#714DCCB037A18D94">\xb6</a><code class="hdoc-function-code language-cpp">void notify_host_object_destroyed(\n    <a href="/docs/api/records/A0E5B68259E332A7/">host_object_id</a> hoid)</code></pre></h3><aside><p>Declared at: <a class="is-family-code" href="https://github.com/celerity/celerity-runtime/blob/master/include/scheduler.h#L63">include/scheduler.h:63</a></p></aside><section><h4>Parameters</h4><dl><dt class="is-family-code"><a href="/docs/api/records/A0E5B68259E332A7/">host_object_id</a><b> hoid</b></dt></dl></section></section><hr class="member-fun-separator"></hr><section><h3 id="820640E182D285DE" data-function-name="notify_task_created"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#820640E182D285DE">\xb6</a><code class="hdoc-function-code language-cpp">void notify_<a href="/docs/api/records/A42A04C270A2D231/">task</a>_created(const task* tsk)</code></pre></h3><section><h4>Description</h4><p><p>Notifies the scheduler that a new task has been created and is ready for scheduling.</p>\n</p></section><aside><p>Declared at: <a class="is-family-code" href="https://github.com/celerity/celerity-runtime/blob/master/include/scheduler.h#L50">include/scheduler.h:50</a></p></aside><section><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="/docs/api/records/A42A04C270A2D231/">task</a>*<b> tsk</b></dt></dl></section></section><hr class="member-fun-separator"></hr><section><h3 id="4478501E819B94AB" data-function-name="operator="><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#4478501E819B94AB">\xb6</a><code class="hdoc-function-code language-cpp"><a href="/docs/api/records/F1926AFC283BE8C6/">abstract_scheduler</a>&amp; operator=(\n    const <a href="/docs/api/records/F1926AFC283BE8C6/">abstract_scheduler</a>&amp;)</code></pre></h3><aside><p>Declared at: <a class="is-family-code" href="https://github.com/celerity/celerity-runtime/blob/master/include/scheduler.h#L42">include/scheduler.h:42</a></p></aside><section><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="/docs/api/records/F1926AFC283BE8C6/">abstract_scheduler</a>&amp;<b> </b></dt></dl></section></section><hr class="member-fun-separator"></hr><section><h3 id="C1F71755ACBF6130" data-function-name="operator="><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#C1F71755ACBF6130">\xb6</a><code class="hdoc-function-code language-cpp"><a href="/docs/api/records/F1926AFC283BE8C6/">abstract_scheduler</a>&amp; operator=(\n    <a href="/docs/api/records/F1926AFC283BE8C6/">abstract_scheduler</a>&amp;&amp;)</code></pre></h3><aside><p>Declared at: <a class="is-family-code" href="https://github.com/celerity/celerity-runtime/blob/master/include/scheduler.h#L43">include/scheduler.h:43</a></p></aside><section><h4>Parameters</h4><dl><dt class="is-family-code"><a href="/docs/api/records/F1926AFC283BE8C6/">abstract_scheduler</a>&amp;&amp;<b> </b></dt></dl></section></section><hr class="member-fun-separator"></hr><section><h3 id="0D9991F4A279021E" data-function-name="~abstract_scheduler"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#0D9991F4A279021E">\xb6</a><code class="hdoc-function-code language-cpp">virtual ~abstract_scheduler()</code></pre></h3><aside><p>Declared at: <a class="is-family-code" href="https://github.com/celerity/celerity-runtime/blob/master/include/scheduler.h#L45">include/scheduler.h:45</a></p></aside></section><hr class="member-fun-separator"></hr><section><h3 id="7A24E132D1295DB7" data-function-name="schedule"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#7A24E132D1295DB7">\xb6</a><code class="hdoc-function-code language-cpp">void schedule()</code></pre></h3><section><h4>Description</h4><p><p>This is called by the worker thread.</p>\n</p></section><aside><p>Declared at: <a class="is-family-code" href="https://github.com/celerity/celerity-runtime/blob/master/include/scheduler.h#L71">include/scheduler.h:71</a></p></aside></section><hr class="member-fun-separator"></hr><section><h3 id="4D4CFCD39AC2323A" data-function-name="notify"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#4D4CFCD39AC2323A">\xb6</a><code class="hdoc-function-code language-cpp">void notify(event&amp;&amp; evt)</code></pre></h3><aside><p>Declared at: <a class="is-family-code" href="https://github.com/celerity/celerity-runtime/blob/master/include/scheduler.h#L116">include/scheduler.h:116</a></p></aside><section><h4>Parameters</h4><dl><dt class="is-family-code">event&amp;&amp;<b> evt</b></dt></dl></section></section><hr class="member-fun-separator"></hr></section></main>',i={hide_title:!0,pagination_next:null,pagination_prev:null,custom_edit_url:null,sidebar_class_name:"sidebar-hidden",title:"class abstract_scheduler"},d=void 0,o={id:"api/records/F1926AFC283BE8C6",title:"class abstract_scheduler",description:"",source:"@site/celerity-runtime/docs/api/records/F1926AFC283BE8C6.mdx",sourceDirName:"api/records",slug:"/api/records/F1926AFC283BE8C6",permalink:"/docs/api/records/F1926AFC283BE8C6",draft:!1,unlisted:!1,editUrl:null,tags:[],version:"current",frontMatter:{hide_title:!0,pagination_next:null,pagination_prev:null,custom_edit_url:null,sidebar_class_name:"sidebar-hidden",title:"class abstract_scheduler"},sidebar:"api"},n={},l=[];function h(e){const{Head:a}={...(0,r.R)(),...e.components};return a||function(e,a){throw new Error("Expected "+(a?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Head",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(a,{children:[(0,s.jsx)("script",{src:"/js/highlight.min.js"}),(0,s.jsx)("script",{src:"/js/api_docs.js",defer:!0})]}),"\n",(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:t}})]})}function p(e={}){const{wrapper:a}={...(0,r.R)(),...e.components};return a?(0,s.jsx)(a,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},28453:(e,a,c)=>{c.d(a,{R:()=>i,x:()=>d});var s=c(96540);const r={},t=s.createContext(r);function i(e){const a=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function d(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(t.Provider,{value:a},e.children)}}}]);