"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[288],{6546:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>s,metadata:()=>a,toc:()=>c});var i=n(4848),r=n(8453);const s={id:"issues-and-limitations",title:"Known Issues and Current Limitations",sidebar_label:"Issues & Limitations"},o=void 0,a={id:"issues-and-limitations",title:"Known Issues and Current Limitations",description:"While Celerity can already do a lot, there still are some things it cannot",source:"@site/celerity-runtime/docs/issues-and-limitations.md",sourceDirName:".",slug:"/issues-and-limitations",permalink:"/docs/issues-and-limitations",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedBy:"Fabian Knorr",lastUpdatedAt:1700167132e3,frontMatter:{id:"issues-and-limitations",title:"Known Issues and Current Limitations",sidebar_label:"Issues & Limitations"},sidebar:"docs",previous:{title:"Common Pitfalls",permalink:"/docs/pitfalls"},next:{title:"Overview",permalink:"/docs/overview"}},l={},c=[{value:"No Built-In Data-Dependent Control Flow Primitives",id:"no-built-in-data-dependent-control-flow-primitives",level:2}];function u(e){const t={a:"a",code:"code",h2:"h2",hr:"hr",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t.p,{children:["While Celerity can already do a lot, there still are some things it cannot\ndo. This is usually either because of a SYCL limitation, because we are still\nfiguring out how to fit certain functionality into the programming model,\nor because we simply haven't had the time yet to implement a given feature.\nIf you are blocked by any of these or other issues, please\n",(0,i.jsx)(t.a,{href:"https://github.com/celerity/celerity-runtime/issues/new",children:"let us know"}),"."]}),"\n",(0,i.jsx)(t.p,{children:"Here is a (potentially incomplete) list of currently known issues:"}),"\n",(0,i.jsx)(t.h2,{id:"no-built-in-data-dependent-control-flow-primitives",children:"No Built-In Data-Dependent Control Flow Primitives"}),"\n",(0,i.jsx)(t.p,{children:"In some situations, the number of Celerity tasks required for a computation\nmay not be known fully in advance. For example, when using an iterative\nmethod, a kernel might be repeated until some error metric threshold is\nreached. Celerity currently offers no canonical way of incorporating such\nbranching decisions into the asynchronous execution flow."}),"\n",(0,i.jsxs)(t.p,{children:["That being said, it is not impossible to achieve this behavior today. For\nexample, the branching decision can be made using a ",(0,i.jsx)(t.a,{href:"/docs/reductions",children:"reduction"}),"\nand then observed on the application thread on a ",(0,i.jsx)(t.code,{children:"fence"}),":"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-cpp",children:"celerity::distr_queue q;\ncelerity::buffer<float, 0> error;\nfor (;;) {\n    q.submit([&](celerity::handler& cgh) {\n        cgh.parallel_for(celerity::range<1>{1000},\n            celerity::reduction(error, cgh, sycl::plus<float>{},\n                celerity::property::reduction::initialize_to_identity{});\n            [=](celerity::item<1> item, auto& err) { err += ...; });\n    });\n    // `fence` will capture buffer contents once all writes have completed\n    auto future = q.fence(error);\n    // optionally submit more work here to avoid stalling the async execution\n    const float err = *future.get();\n    if (err < epsilon) break;\n}\n"})}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsxs)(t.p,{children:["If you encounter any additional issues, please ",(0,i.jsx)(t.a,{href:"https://github.com/celerity/celerity-runtime/issues/new",children:"let us\nknow"}),"."]})]})}function d(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>a});var i=n(6540);const r={},s=i.createContext(r);function o(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);